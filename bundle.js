(()=>{"use strict";class e{constructor(e){this.cardNumber=e}isValid(){let e=0;const t=this.cardNumber.length,r=t%2;for(let s=0;s<t;s++){let t=parseInt(this.cardNumber[s],10);if(isNaN(t))return!1;s%2===r&&(t*=2,t>9&&(t-=9)),e+=t}return e%10==0}}class t{constructor(e){this.cardnumber=e}detectPaysystem(){const e=this.cardnumber.toString(),t=e.length,r=parseInt(e[0],10),s=parseInt(e.slice(0,2),10),n=parseInt(e.slice(0,3),10),c=parseInt(e.slice(0,4),10),a=parseInt(e.slice(0,6),10);return 34!==s&&37!==s||15!==t?([300,301,302,303,304,305].includes(n)||36===s)&&14===t||16===t&&54===s?"diners":643<n&&n<650||622125<a&&a<622926||6011===c||65===s&&16===t?"discover":3527<c&&c<3590&&15<t&&t<20?"jcb":50<s&&s<56||222099<a&&a<272100&&16===t?"mastercard":4!==r||13!==t&&16!==t&&19!==t?2199<c&&c<2205&&15<t&&t<20?"mir":"Unknown":"visa":"amex"}}new class{constructor(){this.init()}init(){document.querySelector(".card_number").addEventListener("keydown",(()=>{const e=document.querySelector(".stroke");e&&e.classList.remove("stroke")})),document.querySelector("button").addEventListener("click",(()=>{const e=document.querySelector(".card_number"),t=e.value.trim();t?this.handleCardNumber(t):alert("Please enter a card number"),e.value=""}))}handleCardNumber(r){if(new e(r).isValid()){const e=new t(r).detectPaysystem();console.log(e),document.querySelector(`.${e}`).classList.add("stroke")}else alert("Invalid card number")}}})();